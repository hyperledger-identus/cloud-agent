secrets:
  secretStore: prism-chart-base-externalsecrets

ingress:
  enabled: true
  applicationUrls:
  - chart-base-manage-backend.atalaprism.io
  platformIngressUrl: chart-base-platform-ingress.atalaprism.io
  cors:
    enabled: false
    allow_origins: "*"

database:
  postgres:
    managingTeam: atala
    databaseSize: 4Gi
    numberOfInstances: 2

keycloak:
  enabled: true
  image:
    registry: "ghcr.io"
    repository: "input-output-hk/atala-prism-keycloak"
    tag: "test-2"
    pullSecrets: [ "atala-prism-dev-deployments-github-docker-registry-key" ]
  extraStartupArgs: "--import-realm --features=declarative-user-profile"
  # this section controls the admin username/password for getting on keycloak
  tls:
    enabled: true
    autoGenerated: true
  auth:
    existingSecret: keycloak-admin-secret
    passwordSecretKey: password
    adminUser: atala
  postgresql:
    enabled: false
  externalDatabase:
    existingSecret: "keycloak-admin.atala-keycloak-postgres-cluster.credentials.postgresql.acid.zalan.do"
    # existingSecretHostKey: chart-base-existing-secret-host-key
    # existingSecretPortKey: chart-base-existing-secret-port-key
    # existingSecretUserKey: chart-base-existing-secret-user-key
    # existingSecretDatabaseKey: chart-base-existing-secret-database-key
    existingSecretPasswordKey: password
    host: "atala-keycloak-postgres-cluster.{{.Release.Namespace}}"
    port: "5432"
    user: keycloak-admin
    database: keycloak
