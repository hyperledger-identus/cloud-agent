/**
 *
 * Please note:
 * This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * Do not edit this file manually.
 *
 */

@file:Suppress(
    "ArrayInDataClass",
    "EnumEntryName",
    "RemoveRedundantQualifierName",
    "UnusedImport",
)

package org.hyperledger.identus.client.models

import com.google.gson.*
import com.google.gson.annotations.JsonAdapter
import com.google.gson.annotations.SerializedName
import java.lang.reflect.Type

class StringOrStringArrayDeserializer : JsonDeserializer<List<String>> {
    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): List<String> {
        return when {
            json?.isJsonArray == true -> context!!.deserialize(json, typeOfT)
            json?.isJsonPrimitive == true -> listOf(json.asString)
            else -> throw JsonParseException("Unexpected type for field")
        }
    }
}

data class Service(

    /* The id of the service. Requires a URI fragment when use in create / update DID. Returns the full ID (with DID prefix) when resolving DID */
    @SerializedName("id")
    val id: kotlin.String,

    @SerializedName("type")
    @JsonAdapter(StringOrStringArrayDeserializer::class)
    val type: kotlin.collections.List<kotlin.String>? = null,

    @SerializedName("serviceEndpoint")
    val serviceEndpoint: JsonElement? = null,

)

fun main() {
    val service = Service(
        id = "id",
        type = listOf("type"),
        serviceEndpoint = JsonPrimitive("https://example.com") as JsonElement,
    )
    println(service)

    val endpoints = JsonArray()
    endpoints.add("https://example.com")
    endpoints.add("https://example.org")
    val service2 = Service(
        id = "id",
        type = listOf("type"),
        serviceEndpoint = endpoints as JsonElement,
    )
    println(service2)
}
