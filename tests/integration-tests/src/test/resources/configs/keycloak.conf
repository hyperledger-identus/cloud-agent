# Specify shared services that are used by all agents (if any)
services = {
    prism_node = {
        http_port = 50053
        version = "${PRISM_NODE_VERSION}"
    }
    keycloak = {
        http_port = 9980
        realm = "atala-demo"
        client_id = "prism-agent"
        client_secret = "prism-agent-demo-secret"
        users = [
            {
                username = "Acme"
                password = "Acme"
            },
            {
                username = "Bob"
                password = "Bob"
            },
            {
                username = "Faber"
                password = "Faber"
            }
        ]
    }
    vault = {
        http_port = 8200
    }
}

# Specify agents that are required to be created before running tests
agents = [
    {
        version = "${OPEN_ENTERPRISE_AGENT_VERSION}"
        http_port = 8080
        didcomm_port = 7080
        secret_storage_backend = "postgres" # can be vault
        auth_enabled = false
        keycloak_enabled = true
    }
]

global {
    auth_header = "${AUTH_HEADER:-apikey}"
    admin_auth_header = "${ADMIN_AUTH_HEADER:-x-admin-api-key}"
}

admin {
    url = "${ADMIN_AGENT_URL:-http://localhost:8080}"
    apikey = "${ADMIN_API_KEY:-admin}"
}

issuer {
    url = "${ISSUER_AGENT_URL:-http://localhost:8080}"
    apikey = "${ISSUER_API_KEY:-${random.string(16)}}"
    webhook_url = "${ISSUER_WEBHOOK_URL:-http://host.docker.internal:9955}"
}

holder {
    url = "${HOLDER_AGENT_URL:-http://localhost:8080}"
    apikey = "${HOLDER_API_KEY:-${random.string(16)}}"
    webhook_url = "${HOLDER_WEBHOOK_URL:-http://host.docker.internal:9956}"
}

verifier {
    url = "${VERIFIER_AGENT_URL:-http://localhost:8080}"
    apikey = "${VERIFIER_API_KEY:-${random.string(16)}}"
    webhook_url = "${VERIFIER_WEBHOOK_URL:-http://host.docker.internal:9957}"
}
