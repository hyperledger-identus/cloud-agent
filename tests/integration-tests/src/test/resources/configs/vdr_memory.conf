# Minimal config to run VDR scenarios with in-memory driver
services = {}

agents = [
    {
        version = "${AGENT_VERSION}"
        http_port = 8080
        didcomm_port = 7080
        auth_enabled = true
        vdr_driver = "memory"
    }
]

roles = [
    {
        name = "Admin"
        url = "${ADMIN_AGENT_URL:-http://localhost:8080}"
        apikey = "${ADMIN_API_KEY:-admin}"
        auth_header = "x-admin-api-key"
    },
    {
        name = "Issuer"
        url = "${ISSUER_AGENT_URL:-http://localhost:8080}"
        apikey = "${ISSUER_API_KEY:-${random.string(16)}}"
        webhook = {
            url = "${ISSUER_WEBHOOK_URL:-http://host.docker.internal:9955}"
            init_required = true
        }
    },
    {
        name = "Holder"
        url = "${HOLDER_AGENT_URL:-http://localhost:8080}"
        apikey = "${HOLDER_API_KEY:-${random.string(16)}}"
        webhook = {
            url = "${HOLDER_WEBHOOK_URL:-http://host.docker.internal:9956}"
            init_required = true
        }
    }
]
